<p-toast></p-toast>

<div class="table-responsive">
    <p-table #tt [value]="inscriptionacads" [paginator]="true" [rows]="50" sortMode="multiple" selectionMode="multiple"
        [(selection)]="selectedInscriptionacads" [resizableColumns]="true" [responsive]="true"
        [(contextMenuSelection)]="selectedInscriptionacad" [scrollable]="true"
        scrollHeight="400px" [globalFilterFields]="globalFilterFields" dataKey="id">
        <ng-template pTemplate="caption">
            Liste des inscriptionacads<br>
            <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
            <input type="text" pInputText size="50" placeholder="Rechercher dans le tableau"
                (input)="tt.filterGlobal($event.target.value, 'contains')" style="width:auto">
            <div class="ui-helper-clearfix" style="text-align: left">
                <button *ngIf="'Inscriptionacad'|listable" type="button" pButton icon="pi pi-file-pdf" iconPos="left"
                    label="PDF" (click)="exportPdf()" class="ui-button-warning pull-right ml-1"></button>
                <button *ngIf="'Inscriptionacad'|listable" type="button" pButton icon="pi pi-file-excel" iconPos="left"
                    label="EXCEL" (click)="exportExcel()" style="margin-right: 0.5em;"
                    class="ui-button-success pull-right"></button>
            </div>
        </ng-template>
        <ng-template pTemplate="colgroup">
            <colgroup>
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
                <col>
            </colgroup>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3em">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th [pSortableColumn]="'prenometudiant'" pResizableColumn>
                    Prénom <p-sortIcon [field]="'prenometudiant'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'nometudiant'" pResizableColumn>
                    Nom <p-sortIcon [field]="'nometudiant'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'ine'" pResizableColumn>
                    Ine <p-sortIcon [field]="'ine'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'cni'" pResizableColumn>
                    Cni <p-sortIcon [field]="'cni'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'numinterne'" pResizableColumn>
                    Numéro Dossier <p-sortIcon [field]="'numinterne'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'dateinscacad'" pResizableColumn>
                    Date Inscription <p-sortIcon [field]="'dateinscacad'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'passage'" pResizableColumn>
                    Passage <p-sortIcon [field]="'passage'"></p-sortIcon>
                </th>
                <th [pSortableColumn]="'montantinscriptionacad'" pResizableColumn>
                    Montant Incription <p-sortIcon [field]="'montantinscriptionacad'"></p-sortIcon>
                </th >          
                <th pResizableColumn>Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-inscriptionacad let-editing="editing">
            <tr [pEditableRow]="inscriptionacad" [pSelectableRow]="inscriptionacad" [pContextMenuRow]="inscriptionacad">
                <td style="width: 3em">
                    <p-tableCheckbox [value]="inscriptionacad"></p-tableCheckbox>
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.idetudiant?.prenometudiant }}
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.idetudiant?.nometudiant }}
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.idetudiant?.ine }}
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.idetudiant?.cni }}
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.idetudiant?.numinterne }}
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.dateinscacad|date:'dd/MM/yyyy  hh:mm:ss' }}
                </td>
                <td class="ui-resizable-column">
                   <span  class="badge badge-pill"
                    [ngClass]="{'badge-success': inscriptionacad?.passage=='P','badge-danger':inscriptionacad?.passage=='R','badge-warning':inscriptionacad?.passage=='C' }">
                    {{inscriptionacad?.passage}}
                   </span>
                 
                </td>
                <td class="ui-resizable-column">
                    {{ inscriptionacad?.montantinscriptionacad  }}
                </td>
               
                <td class="ui-resizable-column">
                    <button label="Détails" (click)="viewEtudiant(inscriptionacad)" pButton
                        icon="pi pi-eye"></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="footer" let-columns>
            <tr>
                <td style="width: 3em">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </td>
                <td>Prénom</td>
                <td>Nom</td>
                <td>Ine</td>
                <td>Cni</td>
                <td>Num. Dossier</td>
                <td>Date Incription</td>
                <td>Passage</td>
                <td>Montant Inscrption</td>
                 <td>Actions</td>
            </tr>
        </ng-template>
    </p-table>
</div>